/**
 * YF 框架
 * @constructor
 */

// Node模块
var Os = require('os');
var Cluster = require('cluster');
var Events = require('events');
var Crypto = require('crypto');

// 第三方模块
var _ = require('lodash');
var Express = require('express');
var CookieParse = require('cookie-parser');
var CookieSession = require('cookie-session');

var App = Express();
var Md5 = function (text) {
    return Crypto.createHash('md5').update(text).digest('hex');
};

// 全局对象
global.YF = {
    _: _,
    md5: Md5
}

/*
defaults
var reEscape = /<%-([\s\S]+?)%>/g,
    reEvaluate = /<%([\s\S]+?)%>/g,
    reInterpolate = /<%=([\s\S]+?)%>/g;
*/
_.templateSettings.escape = /<\?-([\s\S]+?)\?>/g;
_.templateSettings.evaluate = /<\?([\s\S]+?)\?>/g;
_.templateSettings.interpolate = /<\?=([\s\S]+?)\?>/g;
_.templateSettings.imports.YF = YF;

function Yf() {

    if( !(this instanceof Yf) ) {
        return new Yf();
    }

    this.app = App;
}

Yf.prototype = {

    constructor : Yf,

    init: function () {

        this.lister

    }
}

module.exports = Yf;